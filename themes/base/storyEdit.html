<!DOCTYPE html>
<html>
<head>
<title>Story Tool | The Storytelling Project</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<script src="/node_modules/infusion/dist/infusion-all.js"></script>

<!-- UIO stylesheets -->
<link rel="stylesheet" type="text/css" href="/node_modules/infusion/dist/assets/src/framework/preferences/css/Enactors.css" />
<link rel="stylesheet" type="text/css" href="/node_modules/infusion/dist/assets/src/framework/preferences/css/PrefsEditor.css" />
<link rel="stylesheet" type="text/css" href="/node_modules/infusion/dist/assets/src/framework/preferences/css/SeparatedPanelPrefsEditor.css" />
<link rel="stylesheet" type="text/css" href="/node_modules/infusion/src/components/orator/css/Orator.css" />

<script src="/node_modules/handlebars/dist/handlebars.js"></script>
<script src="/node_modules/markdown-it/dist/markdown-it.js"></script>
<script src="/node_modules/fluid-binder/src/js/binder.js"></script>
<script src="/node_modules/fluid-binder/src/js/transforms.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/common/equals.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/common/helper.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/common/jsonify.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/common/md-common.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/common/messageHelper.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/common/renderer.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/client/ajaxCapable.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/client/hasRequiredOptions.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/client/md-client.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/client/messageHelper.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/client/renderer.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/client/templateAware.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/client/templateFormControl.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/client/templateManager.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/client/templateMessage.js"></script>
<script src="/node_modules/fluid-handlebars/src/js/client/templateRequestAndRender.js"></script>

<script src="/node_modules/fluid-location-bar-relay/src/js/locationBar.js"></script>

<script src="src/dynamicViewComponentManager.js"></script>
<script src="src/binder.js"></script>
<script src="src/block.js"></script>
<script src="src/block-audio.js"></script>
<script src="src/block-image.js"></script>
<script src="src/block-text.js"></script>
<script src="src/block-video.js"></script>
<script src="src/block-timeBased.js"></script>
<script src="src/blockUi.js"></script>
<script src="src/blockUi-editor.js"></script>
<script src="src/blockUi-editor-audioBlockEditor.js"></script>
<script src="src/blockUi-editor-imageBlockEditor.js"></script>
<script src="src/blockUi-editor-mediaBlockEditor.js"></script>
<script src="src/blockUi-editor-textBlockEditor.js"></script>
<script src="src/blockUi-editor-videoBlockEditor.js"></script>
<script src="src/blockUi-audioBlockViewer.js"></script>
<script src="src/blockUi-imageBlockViewer.js"></script>
<script src="src/blockUi-textBlockViewer.js"></script>
<script src="src/blockUi-videoBlockViewer.js"></script>
<script src="src/blockUi-timeBased.js"></script>
<script src="src/base-page-storyEdit.js"></script>
<script src="src/base-page-storyNotFound.js"></script>
<script src="src/base-page.js"></script>
<script src="src/story.js"></script>
<script src="src/templateManager.js"></script>
<script src="src/ui.js"></script>
<script src="src/ui-authorControls.js"></script>
<script src="src/ui-menu.js"></script>
<script src="src/ui-storyEditor.js"></script>
<script src="src/ui-storyViewer.js"></script>
<script src="src/uploader.js"></script>
<script src="src/transforms.js"></script>
<script src="src/UIOMultilingualDemo.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.css">

<link href="https://fonts.googleapis.com/css?family=Vollkorn:400,700|Work+Sans:400,500,700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="css/storyTelling.css" />
<link rel="stylesheet" href="/node_modules/infusion/src/framework/core/css/fluid.css">

<script src="src/storyTellingServerUI.js"></script>

<!--
    SJRK-435: This style rule is needed to hide the UIO Table of Contents element.
              Using inline styling on the element is not sufficient, as UIO would
              make the element reappear after turning the preference off and & on

              Please see the Jira for more info:
              https://issues.fluidproject.org/browse/SJRK-435
-->
<style>
    .flc-toc-tocContainer {
        display: none !important;
    }
</style>

</head>
<body>

<div class="sjrk-prefsEditor-container">
    <!-- BEGIN markup for Preference Editor -->
   <div class="flc-prefsEditor-separatedPanel fl-prefsEditor-separatedPanel">
       <!--
           This div is for the sliding panel bar that shows and hides the Preference Editor controls in the mobile view.
           A separate panel bar for mobile displays is needed to preserver the correct tab order.
       -->
       <div class="fl-panelBar fl-panelBar-smallScreen">
           <span class="fl-prefsEditor-buttons">
               <button class="flc-slidingPanel-toggleButton fl-prefsEditor-showHide"> Show/Hide</button>
               <button class="flc-prefsEditor-reset fl-prefsEditor-reset"><span class="fl-icon-undo"></span> Reset</button>
           </span>
       </div>

       <!-- This is the div that will contain the Preference Editor component -->
       <div class="flc-slidingPanel-panel flc-prefsEditor-iframe"></div>

       <!--
           This div is for the sliding panel bar that shows and hides the Preference Editor controls in the desktop view.
           A separate panel bar for desktop displays is needed to preserver the correct tab order.
       -->
       <div class="fl-panelBar fl-panelBar-wideScreen">
           <span class="fl-prefsEditor-buttons">
               <button class="flc-slidingPanel-toggleButton fl-prefsEditor-showHide"> Show/Hide</button>
               <button class="flc-prefsEditor-reset fl-prefsEditor-reset"><span class="fl-icon-undo"></span> Reset</button>
           </span>
       </div>
   </div>
   <!-- END markup for Preference Editor -->
</div>

<div class="sjrk-st-author-controls-container sjrkc-st-author-controls-container"></div>
<header class="sjrk-st-page-header-container sjrkc-st-page-header-container"></header>

<!-- This div is for the table of contents feature provided by the Preferences Editor -->
<!-- SJRK-435: this element is always hidden on this page (see note in style tag above) -->
<div class="flc-toc-tocContainer toc"></div>

<main class="sjrk-st-page-content-container sjrk-edit-page-container sjrkc-edit-page-container">
    <div class="sjrk-edit-left-container sjrkc-edit-left-container"></div>
    <div class="sjrk-main-container sjrkc-main-container">
        <div class="sjrk-st-menu sjrkc-st-menu"></div>
        <div class="sjrk-st-story-editor sjrkc-st-story-editor"></div>
        <div class="sjrk-st-story-viewer sjrkc-st-story-previewer"></div>
        <div class="sjrk-st-story-notFoundNotice sjrkc-st-story-notFoundNotice"></div>
    </div>
    <div class="sjrk-edit-right-container sjrkc-edit-right-container"></div>
</main>

<div class="sjrk-st-etiquette-container sjrkc-st-etiquette-container"></div>
<footer class="sjrk-st-page-footer-container sjrkc-st-page-footer-container"></footer>

<script>
    $(document).ready(function () {
        sjrk.storyTelling.loadTheme().then(sjrk.storyTelling.loadStoryEditWithParameter);
    });
</script>

</body>
</html>
